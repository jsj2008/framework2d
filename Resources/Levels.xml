<?xml version="1.0" ?>
<Root Name="Levels.xml">
  <Collection Name="Level1">
    <Level Name="Level">
      <EventListRef>Levels.xml/Level1/Events</EventListRef>
      <FactoryList Name="Factories">

	<Factory Name="Player" Type="CollisionResponseFactory" Product="CollisionResponse">
	  <PropertyBag>
	    <Array Type="string" Name="event__Collisions">
	      <Member Value="WaterVolumeResponse" />
	    </Array>
	    <Array Type="string" Name="event__Actions">
	      <Member Value="Floatation" />
	    </Array>
	  </PropertyBag>
	</Factory>
	<Factory Name="Crate" Type="CollisionResponseFactory" Product="CollisionResponse">
	  <PropertyBag>
	    <Array Type="string" Name="event__Collisions">
	      <Member Value="WaterVolumeResponse" />
	    </Array>
	    <Array Type="string" Name="event__Actions">
	      <Member Value="Floatation" />
	    </Array>
	  </PropertyBag>
	</Factory>
	<Factory Name="WaterVolumeResponse" Type="CollisionResponseFactory" Product="CollisionResponse">
	  <PropertyBag>
	    <Array Type="string" Name="filters">
	      <Member Value="Projectile" />
	    </Array>
	  </PropertyBag>
	</Factory>

	<Factory Name="Bullet" Type="ProjectileFactory" Product="Entity">
	  <PropertyBag>
	    <Property Type="float" Name="radius" Value="0.2" />
	    <Property Type="string" Name="collisionResponse" Value="Projectile" /> 
	  </PropertyBag>
	</Factory>
	<Factory Name="FireBulletAction" Type="FireProjectileActionFactory" Product="WeaponAction">
	  <PropertyBag>
	    <Property Type="string" Name="projectile" Value="Bullet" />
	  </PropertyBag>
	</Factory>
	<Factory Name="Pistol" Type="WeaponFactory" Product="Weapon">
	  <PropertyBag>
	    <Property Type="string" Name="actionFactory" Value="FireBulletAction" />
	  </PropertyBag>
	</Factory>
	<Factory Name="PlayerBody" Type="CharacterBodyFactory" Product="BodyPart">
	  <PropertyBag>
	    <Property Type="string" Name="collisionResponse" Value="Player" /> 
	  </PropertyBag>
	</Factory>
	<Factory Name="PlayerFactory" Type="AIEntityFactory" Product="Entity">
	  <PropertyBag>
	    <Property Type="string" Name="weapon" Value="Pistol" />
	    <Property Type="string" Name="body" Value="PlayerBody" /> 
	  </PropertyBag>
	</Factory>
	<Factory Name="LevelGeometryBody" Type="SingleFixtureBodyPartFactory" Product="BodyPart">
	  <PropertyBag>
	    <Property Type="string" Name="collisionResponse" Value="CollisionResponseFactory" />
	    <Property Type="int" Name="bodyType" Value="0" />
	    <Property Type="int" Name="shapeType" Value="2" />
	  </PropertyBag>
	</Factory>
	<Factory Name="StaticWaterBody" Type="SingleFixtureBodyPartFactory" Product="BodyPart">
	  <PropertyBag>
	    <Property Type="string" Name="collisionResponse" Value="WaterVolumeResponse" />
	    <Property Type="int" Name="bodyType" Value="0" />
	    <Property Type="int" Name="shapeType" Value="2" />
	  </PropertyBag>
	</Factory>
	<Factory Name="DenseCrateBody" Type="SingleFixtureBodyPartFactory" Product="BodyPart">
	  <PropertyBag>
	    <Property Type="string" Name="collisionResponse" Value="Crate" />
	  </PropertyBag>
	</Factory>
	<Factory Name="LevelGeometry" Type="LevelGeometryFactory" Product="Entity">
	  <PropertyBag>
	    <Property Type="string" Name="body" Value="LevelGeometryBody" />
	  </PropertyBag>
	</Factory>
	<Factory Name="StaticWater" Type="LevelGeometryFactory" Product="Entity">
	  <PropertyBag>
	    <Property Type="string" Name="body" Value="StaticWaterBody" />
	  </PropertyBag>
	</Factory>
	<Factory Name="DenseCrate" Type="CrateFactory" Product="Entity">
	  <PropertyBag>
	    <Property Type="string" Name="body" Value="DenseCrateBody" />
	  </PropertyBag>
	</Factory>
      </FactoryList>
      
      <EntityList Name="Entities">
	<Entity Type="StaticWater">
	  <PropertyBag>
	    <Array Type="Vec2f" Name="points">
	      <Member Value="-6.46667 17.4 " />
	      <Member Value="13.4 18.1333 " />
	      <Member Value="14 24.2667 " />
	      <Member Value="-8.4 23.7333 " />
	    </Array>
	  </PropertyBag>
	</Entity>
	<Entity Type="PlayerFactory">
	  <PropertyBag>
	    <Property Type="unsigned short" Name="entityKey" Value="0" />
	    <Property Type="Vec2f" Name="position" Value="-10, -50" />
	  </PropertyBag>
	</Entity>
	<Entity Type="DenseCrate">
	  <PropertyBag>
	    <Property Type="Vec2f" Name="position" Value="10, -50" />
	  </PropertyBag>
	</Entity>
      </EntityList>
    </Level>
    <EventList Name="Events" />
  </Collection>
</Root>
